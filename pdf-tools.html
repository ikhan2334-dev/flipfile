<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Security Tools - FlipFile | Lock & Unlock PDF Files</title>
    <meta name="description" content="Secure your PDF files with password protection or unlock restricted PDFs. Military-grade encryption for maximum security.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alata&family=Aldrich&family=Black+Ops+One&family=Teko:wght@300;400;500;600&family=Averia+Libre:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .pdf-action-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 40px 0;
        }
        
        .action-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 40px 30px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 3px solid #E2E8F0;
            position: relative;
            overflow: hidden;
        }
        
        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--3d-shadow);
        }
        
        .action-card.active {
            border-color: var(--primary-blue);
            background: linear-gradient(135deg, #F0F9FF, #E0F2FE);
        }
        
        .action-card i {
            font-size: 3.5rem;
            margin-bottom: 20px;
        }
        
        .action-card h3 {
            margin-bottom: 15px;
            color: var(--dark-text);
        }
        
        .action-card p {
            color: #64748B;
            margin-bottom: 20px;
        }
        
        .action-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--primary-green);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .security-options {
            background: white;
            border-radius: var(--border-radius);
            padding: 40px;
            margin: 40px 0;
            box-shadow: var(--box-shadow);
            display: none;
        }
        
        .security-options.active {
            display: block;
            animation: fadeInUp 0.5s ease;
        }
        
        .password-section {
            background: #F8FAFC;
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .password-input-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        @media (max-width: 768px) {
            .password-input-group {
                grid-template-columns: 1fr;
            }
        }
        
        .password-strength {
            margin-top: 10px;
            height: 5px;
            background: #E2E8F0;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .password-strength-fill {
            height: 100%;
            width: 0%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        .password-strength-text {
            text-align: right;
            margin-top: 5px;
            font-size: 0.9rem;
            color: #64748B;
        }
        
        .permissions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .permission-item {
            background: #F8FAFC;
            border: 2px solid #E2E8F0;
            border-radius: 8px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .permission-item:hover {
            background: white;
            border-color: var(--primary-blue);
        }
        
        .permission-item.active {
            background: var(--primary-blue);
            color: white;
            border-color: var(--primary-blue);
        }
        
        .permission-item.active i {
            color: white !important;
        }
        
        .permission-item i {
            font-size: 1.5rem;
            color: var(--primary-blue);
        }
        
        .encryption-info {
            background: linear-gradient(135deg, #FEF3C7, #FDE68A);
            border-radius: var(--border-radius);
            padding: 25px;
            margin: 30px 0;
            border-left: 5px solid #F59E0B;
        }
        
        .security-level {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .security-level i {
            color: #10B981;
            font-size: 1.5rem;
        }
        
        .file-analysis {
            background: #F0F9FF;
            border-radius: var(--border-radius);
            padding: 25px;
            margin: 30px 0;
            display: none;
        }
        
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .analysis-item {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .analysis-item i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary-blue);
        }
    </style>
</head>
<body>
    <!-- Top Header -->
    <header class="top-header">
        <a href="index.html" class="logo-container">
            <div class="logo-icon">
                <i class="fas fa-file-pdf"></i>
            </div>
            <div>
                <div class="logo-text">
                    <span class="flip">Flip</span><span class="file">File</span>
                </div>
                <div class="logo-slogan">FlipFast.StaySecure</div>
            </div>
        </a>
        
        <div class="nav-buttons">
            <a href="pdf-tools.html" class="nav-button">PDF Unlock/Lock</a>
            
            <div class="dropdown">
                <a href="converter.html" class="nav-button">Converter</a>
                <div class="dropdown-content">
                    <div class="dropdown-section">
                        <div class="dropdown-header">
                            <i class="fas fa-image"></i>
                            Image Files
                        </div>
                        <div class="dropdown-items">
                            <a href="converter.html?type=jpg" class="dropdown-item image-item">
                                <i class="fas fa-file-image jpg-icon"></i>
                                <span>JPG</span>
                            </a>
                            <a href="converter.html?type=png" class="dropdown-item image-item">
                                <i class="fas fa-file-image png-icon"></i>
                                <span>PNG</span>
                            </a>
                            <a href="converter.html?type=svg" class="dropdown-item image-item">
                                <i class="fas fa-file-code svg-icon"></i>
                                <span>SVG</span>
                            </a>
                            <a href="converter.html?type=webp" class="dropdown-item image-item">
                                <i class="fas fa-file-image webp-icon"></i>
                                <span>WEBP</span>
                            </a>
                        </div>
                    </div>
                    
                    <div class="dropdown-section">
                        <div class="dropdown-header">
                            <i class="fas fa-file-alt"></i>
                            Document Files
                        </div>
                        <div class="dropdown-items">
                            <a href="converter.html?type=pdf" class="dropdown-item document-item">
                                <i class="fas fa-file-pdf pdf-icon"></i>
                                <span>PDF</span>
                            </a>
                            <a href="converter.html?type=doc" class="dropdown-item document-item">
                                <i class="fas fa-file-word doc-icon"></i>
                                <span>DOC</span>
                            </a>
                            <a href="converter.html?type=xls" class="dropdown-item document-item">
                                <i class="fas fa-file-excel xls-icon"></i>
                                <span>XLS</span>
                            </a>
                            <a href="converter.html?type=ppt" class="dropdown-item document-item">
                                <i class="fas fa-file-powerpoint ppt-icon"></i>
                                <span>PPT</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="dropdown">
                <a href="compressor.html" class="nav-button">Compressor</a>
                <div class="dropdown-content">
                    <div class="dropdown-section">
                        <div class="dropdown-header">
                            <i class="fas fa-file-image"></i>
                            Image Files
                        </div>
                        <div class="dropdown-items">
                            <a href="compressor.html?type=jpg" class="dropdown-item image-item">
                                <i class="fas fa-file-image jpg-icon"></i>
                                <span>JPG</span>
                            </a>
                            <a href="compressor.html?type=png" class="dropdown-item image-item">
                                <i class="fas fa-file-image png-icon"></i>
                                <span>PNG</span>
                            </a>
                            <a href="compressor.html?type=svg" class="dropdown-item image-item">
                                <i class="fas fa-file-code svg-icon"></i>
                                <span>SVG</span>
                            </a>
                        </div>
                    </div>
                    
                    <div class="dropdown-section">
                        <div class="dropdown-header">
                            <i class="fas fa-file-contract"></i>
                            Document Files
                        </div>
                        <div class="dropdown-items">
                            <a href="compressor.html?type=pdf" class="dropdown-item document-item">
                                <i class="fas fa-file-pdf pdf-icon"></i>
                                <span>PDF</span>
                            </a>
                            <a href="compressor.html?type=doc" class="dropdown-item document-item">
                                <i class="fas fa-file-word doc-icon"></i>
                                <span>DOC</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <a href="#" class="nav-button login-btn">Login</a>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-meta">Military-Grade PDF Security</div>
        <h1 class="hero-headline">Secure Your PDF Files with Advanced Encryption</h1>
        <div class="hero-subheadline">
            <i class="fas fa-shield-alt"></i>
            <span>AES-256 Encryption • Instant File Deletion • Complete Privacy</span>
        </div>
    </section>

    <!-- PDF Tools Interface -->
    <section class="content-section">
        <h2 class="section-title">PDF Security Tools</h2>
        
        <!-- File Upload Area -->
        <div class="drag-drop-area" id="dragDropArea">
            <div class="drag-drop-icon">
                <i class="fas fa-file-pdf" style="color: #FF4444;"></i>
            </div>
            <div class="drag-drop-text">Drag & drop your PDF file here or click to browse</div>
            <button class="select-file-btn" id="selectFileBtn">Select PDF File</button>
            <input type="file" id="fileInput" accept=".pdf" style="display: none;">
            
            <div style="margin-top: 30px; color: #64748B;">
                <i class="fas fa-info-circle"></i>
                <small>Supports PDF files up to 100MB. All files deleted after processing.</small>
            </div>
        </div>
        
        <!-- File Analysis -->
        <div class="file-analysis" id="fileAnalysis">
            <h3 style="text-align: center; margin-bottom: 20px;">
                <i class="fas fa-search"></i> PDF File Analysis
            </h3>
            
            <div class="analysis-grid">
                <div class="analysis-item">
                    <i class="fas fa-file"></i>
                    <div id="pdfFileName">sample.pdf</div>
                    <small>File Name</small>
                </div>
                
                <div class="analysis-item">
                    <i class="fas fa-weight-hanging"></i>
                    <div id="pdfFileSize">2.5 MB</div>
                    <small>File Size</small>
                </div>
                
                <div class="analysis-item">
                    <i class="fas fa-layer-group"></i>
                    <div id="pdfPages">24 pages</div>
                    <small>Total Pages</small>
                </div>
                
                <div class="analysis-item">
                    <i class="fas fa-lock"></i>
                    <div id="pdfSecurity">Not Protected</div>
                    <small>Current Security</small>
                </div>
            </div>
        </div>
        
        <!-- Action Selector -->
        <div class="pdf-action-selector">
            <div class="action-card active" data-action="lock">
                <div class="action-badge">PROTECT</div>
                <i class="fas fa-lock" style="color: #3B82F6;"></i>
                <h3>Lock PDF</h3>
                <p>Add password protection and restrict permissions</p>
                <div style="margin-top: 20px;">
                    <i class="fas fa-check-circle" style="color: #10B981;"></i>
                    <small>AES-256 Encryption</small>
                </div>
            </div>
            
            <div class="action-card" data-action="unlock">
                <div class="action-badge">REMOVE</div>
                <i class="fas fa-unlock" style="color: #10B981;"></i>
                <h3>Unlock PDF</h3>
                <p>Remove password and restrictions from PDF files</p>
                <div style="margin-top: 20px;">
                    <i class="fas fa-check-circle" style="color: #10B981;"></i>
                    <small>Keep Original Quality</small>
                </div>
            </div>
        </div>
        
        <!-- Lock PDF Options -->
        <div class="security-options active" id="lockOptions">
            <h3 style="text-align: center; margin-bottom: 30px; color: var(--primary-blue);">
                <i class="fas fa-lock"></i> Lock PDF Settings
            </h3>
            
            <div class="password-section">
                <h4 style="margin-bottom: 20px;">
                    <i class="fas fa-key"></i> Password Protection
                </h4>
                
                <div class="password-input-group">
                    <div class="tool-option">
                        <label for="userPassword">User Password:</label>
                        <div class="password-input">
                            <input type="password" id="userPassword" placeholder="Password to open the file" style="width: 100%;">
                            <button type="button" class="password-toggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="password-strength">
                            <div class="password-strength-fill" id="userPasswordStrength"></div>
                        </div>
                        <div class="password-strength-text" id="userPasswordText">Strength: None</div>
                    </div>
                    
                    <div class="tool-option">
                        <label for="ownerPassword">Owner Password:</label>
                        <div class="password-input">
                            <input type="password" id="ownerPassword" placeholder="Password for permissions" style="width: 100%;">
                            <button type="button" class="password-toggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="password-strength">
                            <div class="password-strength-fill" id="ownerPasswordStrength"></div>
                        </div>
                        <div class="password-strength-text" id="ownerPasswordText">Strength: None</div>
                    </div>
                </div>
            </div>
            
            <div style="margin: 30px 0;">
                <h4 style="margin-bottom: 20px;">
                    <i class="fas fa-user-shield"></i> Permissions & Restrictions
                </h4>
                
                <div class="permissions-grid">
                    <div class="permission-item active" data-permission="print">
                        <i class="fas fa-print"></i>
                        <div>
                            <div style="font-weight: bold;">Printing</div>
                            <small>Allow document printing</small>
                        </div>
                    </div>
                    
                    <div class="permission-item active" data-permission="copy">
                        <i class="fas fa-copy"></i>
                        <div>
                            <div style="font-weight: bold;">Copy Text</div>
                            <small>Allow text copying</small>
                        </div>
                    </div>
                    
                    <div class="permission-item" data-permission="edit">
                        <i class="fas fa-edit"></i>
                        <div>
                            <div style="font-weight: bold;">Editing</div>
                            <small>Allow document editing</small>
                        </div>
                    </div>
                    
                    <div class="permission-item active" data-permission="annotate">
                        <i class="fas fa-comment-alt"></i>
                        <div>
                            <div style="font-weight: bold;">Annotations</div>
                            <small>Allow comments & notes</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="encryption-info">
                <div class="security-level">
                    <i class="fas fa-shield-alt"></i>
                    <div>
                        <div style="font-weight: bold;">AES-256 Bit Encryption</div>
                        <small>Military-grade security - Most secure option</small>
                    </div>
                </div>
                
                <div style="margin-top: 15px; font-size: 0.9rem;">
                    <i class="fas fa-info-circle"></i>
                    <span>Your PDF will be encrypted with industry-standard AES-256 encryption. This is the same level of security used by banks and governments.</span>
                </div>
            </div>
        </div>
        
        <!-- Unlock PDF Options -->
        <div class="security-options" id="unlockOptions">
            <h3 style="text-align: center; margin-bottom: 30px; color: var(--primary-green);">
                <i class="fas fa-unlock"></i> Unlock PDF Settings
            </h3>
            
            <div class="password-section">
                <h4 style="margin-bottom: 20px;">
                    <i class="fas fa-key"></i> Enter PDF Password
                </h4>
                
                <div class="tool-option" style="max-width: 500px; margin: 0 auto;">
                    <label for="unlockPassword">PDF Password:</label>
                    <div class="password-input">
                        <input type="password" id="unlockPassword" placeholder="Enter the PDF password to unlock" style="width: 100%;">
                        <button type="button" class="password-toggle">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div style="margin-top: 10px;">
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="checkbox" id="removeAllRestrictions">
                            <span>Remove all restrictions (editing, printing, copying)</span>
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="encryption-info">
                <div class="security-level">
                    <i class="fas fa-check-circle" style="color: #10B981;"></i>
                    <div>
                        <div style="font-weight: bold;">Secure Unlocking Process</div>
                        <small>Your password is never stored or transmitted</small>
                    </div>
                </div>
                
                <div style="margin-top: 15px; font-size: 0.9rem;">
                    <i class="fas fa-info-circle"></i>
                    <span>We use secure client-side processing to unlock your PDF. The password is only used during the unlocking process and is immediately discarded.</span>
                </div>
            </div>
        </div>
        
        <!-- Action Buttons -->
        <div style="text-align: center; margin: 40px 0;">
            <button class="select-file-btn" id="processBtn" style="padding: 20px 60px; font-size: 1.3rem;">
                <i class="fas fa-shield-alt"></i> Process PDF File
            </button>
            <button class="select-file-btn" id="downloadBtn" style="padding: 20px 40px; font-size: 1.3rem; margin-left: 15px; display: none;">
                <i class="fas fa-download"></i> Download Processed PDF
            </button>
            <p style="margin-top: 15px; color: #64748B;">
                <i class="fas fa-clock"></i>
                <small>Processing time: ~10 seconds • Files deleted after 24 hours</small>
            </p>
        </div>
        
        <!-- Processing Section -->
        <div class="processing-section" id="processingSection">
            <h3 style="text-align: center; margin-bottom: 20px;">
                <i class="fas fa-cogs"></i> Processing PDF Security
            </h3>
            
            <div style="text-align: center; margin-bottom: 20px;">
                <div id="processingText">Initializing secure processing...</div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div style="text-align: center; margin-top: 20px; color: #64748B;">
                <i class="fas fa-user-secret"></i>
                <small>Your PDF is being processed with military-grade encryption</small>
            </div>
        </div>
        
        <!-- Results Section -->
        <div class="results-section" id="resultsSection">
            <h3 style="text-align: center; margin-bottom: 20px;">
                <i class="fas fa-check-circle" style="color: #10B981;"></i>
                PDF Processing Complete!
            </h3>
            
            <div class="result-stats">
                <div class="stat-card">
                    <i class="fas fa-shield-alt"></i>
                    <div>Security Level</div>
                    <div id="securityLevel" style="font-weight: bold;">AES-256</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-file"></i>
                    <div>File Status</div>
                    <div id="fileStatus" style="font-weight: bold; color: #10B981;">Protected</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-bolt"></i>
                    <div>Processing Time</div>
                    <div id="processingTime" style="font-weight: bold;">8.5s</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-check-double"></i>
                    <div>Verification</div>
                    <div id="verificationStatus" style="font-weight: bold;">Successful</div>
                </div>
            </div>
            
            <div style="text-align: center; margin: 30px 0;">
                <div class="encryption-info" style="max-width: 600px; margin: 0 auto;">
                    <div class="security-level">
                        <i class="fas fa-lock"></i>
                        <div>
                            <div style="font-weight: bold;">PDF Successfully Processed</div>
                            <small>Your file is now secure and ready for download</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin: 30px 0;">
                <button class="select-file-btn" id="finalDownloadBtn" style="padding: 15px 40px;">
                    <i class="fas fa-download"></i> Download Secure PDF
                </button>
                <button class="select-file-btn" style="padding: 15px 40px; margin-left: 15px; background-color: var(--primary-blue);">
                    <i class="fas fa-redo"></i> Process Another
                </button>
            </div>
            
            <div style="text-align: center; color: #64748B;">
                <i class="fas fa-info-circle"></i>
                <small>Download link expires in 24 hours • File automatically deleted after download</small>
            </div>
        </div>
        
        <!-- Ad Section -->
        <div class="ad-section">
            <div class="ad-label">Advertisement</div>
            <div class="ad-container" id="adContainer">
                Upgrade to Premium for unlimited PDF processing and batch operations!
            </div>
        </div>
    </section>

    <!-- SEO Section -->
    <section class="content-section" style="padding-top: 0;">
        <div class="seo-section">
            <h3>Professional PDF Security Solutions</h3>
            <p>FlipFile provides enterprise-grade PDF security tools with military-grade AES-256 encryption. Whether you need to protect sensitive documents with password protection or unlock restricted PDFs for editing, our tools deliver professional results with maximum security.</p>
            <p>Our PDF locking feature allows you to set user and owner passwords, control printing permissions, restrict editing capabilities, and prevent unauthorized copying. All encryption happens locally in your browser, ensuring your sensitive documents never leave your device unencrypted.</p>
            <p>For unlocking PDFs, we use secure client-side processing that immediately discards passwords after use. This ensures complete privacy while giving you access to restricted documents. All processed files are automatically deleted from our systems within 24 hours, guaranteeing your data remains private and secure.</p>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Contact</h3>
                <ul>
                    <li><i class="fas fa-envelope"></i> <a href="mailto:cyview4u@gmail.com">cyview4u@gmail.com</a></li>
                    <li><i class="fas fa-globe"></i> <a href="https://www.flipfile.online" target="_blank">www.flipfile.online</a></li>
                    <li><i class="fas fa-quote-left"></i> "The swift shift for your secure files."</li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Legal</h3>
                <ul>
                    <li><i class="fas fa-shield-alt"></i> <a href="privacy.html">Privacy Policy</a></li>
                    <li><i class="fas fa-file-contract"></i> <a href="terms.html">Terms of Service</a></li>
                    <li><i class="fas fa-cookie-bite"></i> <a href="cookies.html">Cookie Policy</a></li>
                    <li><i class="fas fa-database"></i> <a href="data-protection.html">Data Protection</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Resources</h3>
                <ul>
                    <li><i class="fas fa-blog"></i> <a href="blog.html">Blog</a></li>
                    <li><i class="fas fa-question-circle"></i> <a href="faq.html">FAQ</a></li>
                    <li><i class="fas fa-comment-dots"></i> <a href="feedback.html">Feedback</a></li>
                    <li><i class="fas fa-headset"></i> <a href="support.html">Support Center</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Follow Us</h3>
                <p>Stay connected with FlipFile for updates and security tips.</p>
                <div class="social-icons">
                    <a href="#" class="social-icon" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    <a href="#" class="social-icon" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
                    <a href="#" class="social-icon" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-icon" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2023 FlipFile. All rights reserved. | Designed with security and privacy in mind.</p>
            <p class="footer-meta">The swift shift for your secure files.</p>
        </div>
    </footer>

    <!-- File Processing Modal -->
    <div class="processing-modal" id="processingModal">
        <div class="modal-content">
            <div class="processing-spinner"></div>
            <h3>Securing Your PDF</h3>
            <p id="modalProcessingText">Applying AES-256 encryption...</p>
            <div class="ad-container" style="margin-top: 20px; height: 80px;">
                <i class="fas fa-user-shield" style="color: #3B82F6;"></i>
                <div>Premium users get advanced security features!</div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // PDF Tools-specific JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            const fileInput = document.getElementById('fileInput');
            const selectFileBtn = document.getElementById('selectFileBtn');
            const processBtn = document.getElementById('processBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const finalDownloadBtn = document.getElementById('finalDownloadBtn');
            const dragDropArea = document.getElementById('dragDropArea');
            const actionCards = document.querySelectorAll('.action-card');
            const lockOptions = document.getElementById('lockOptions');
            const unlockOptions = document.getElementById('unlockOptions');
            const fileAnalysis = document.getElementById('fileAnalysis');
            const processingSection = document.getElementById('processingSection');
            const resultsSection = document.getElementById('resultsSection');
            const permissionItems = document.querySelectorAll('.permission-item');
            
            let selectedFile = null;
            let selectedAction = 'lock';
            let currentAction = 'lock';
            
            // Initialize password strength indicators
            const userPassword = document.getElementById('userPassword');
            const ownerPassword = document.getElementById('ownerPassword');
            const unlockPassword = document.getElementById('unlockPassword');
            
            // Action selection
            actionCards.forEach(card => {
                card.addEventListener('click', function() {
                    // Remove active class from all cards
                    actionCards.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked card
                    this.classList.add('active');
                    selectedAction = this.dataset.action;
                    currentAction = selectedAction;
                    
                    // Show appropriate options
                    if (selectedAction === 'lock') {
                        lockOptions.classList.add('active');
                        unlockOptions.classList.remove('active');
                    } else {
                        lockOptions.classList.remove('active');
                        unlockOptions.classList.add('active');
                    }
                });
            });
            
            // Permission selection
            permissionItems.forEach(item => {
                item.addEventListener('click', function() {
                    this.classList.toggle('active');
                });
            });
            
            // Password strength calculation
            [userPassword, ownerPassword, unlockPassword].forEach(input => {
                if (input) {
                    input.addEventListener('input', function() {
                        updatePasswordStrength(this);
                    });
                }
            });
            
            // Password toggle buttons
            document.querySelectorAll('.password-toggle').forEach(button => {
                button.addEventListener('click', function() {
                    const input = this.previousElementSibling;
                    if (input.type === 'password') {
                        input.type = 'text';
                        this.innerHTML = '<i class="fas fa-eye-slash"></i>';
                    } else {
                        input.type = 'password';
                        this.innerHTML = '<i class="fas fa-eye"></i>';
                    }
                });
            });
            
            // File selection
            selectFileBtn.addEventListener('click', () => {
                fileInput.click();
            });
            
            fileInput.addEventListener('change', (e) => {
                if (e.target.files[0]) {
                    handleFileUpload(e.target.files[0]);
                }
            });
            
            // Drag and drop
            ['dragenter', 'dragover'].forEach(eventName => {
                dragDropArea.addEventListener(eventName, (e) => {
                    e.preventDefault();
                    dragDropArea.classList.add('active');
                }, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                dragDropArea.addEventListener(eventName, (e) => {
                    e.preventDefault();
                    dragDropArea.classList.remove('active');
                }, false);
            });
            
            dragDropArea.addEventListener('drop', (e) => {
                e.preventDefault();
                const files = e.dataTransfer.files;
                if (files[0] && files[0].type === 'application/pdf') {
                    handleFileUpload(files[0]);
                } else {
                    alert('Please upload a PDF file only.');
                }
            }, false);
            
            // Process button
            processBtn.addEventListener('click', async () => {
                if (!selectedFile) {
                    alert('Please select a PDF file first!');
                    return;
                }
                
                if (currentAction === 'lock') {
                    // Validate passwords for locking
                    const userPass = userPassword.value;
                    const ownerPass = ownerPassword.value;
                    
                    if (!userPass && !ownerPass) {
                        alert('Please set at least one password for PDF protection.');
                        return;
                    }
                    
                    if (userPass && userPass.length < 4) {
                        alert('User password must be at least 4 characters long.');
                        return;
                    }
                }
                
                // Show processing
                processingSection.style.display = 'block';
                resultsSection.style.display = 'none';
                
                // Simulate processing
                await simulatePDFProcessing();
            });
            
            // Download buttons
            downloadBtn.addEventListener('click', handleDownload);
            finalDownloadBtn.addEventListener('click', handleDownload);
            
            // Helper functions
            function handleFileUpload(file) {
                if (file.type !== 'application/pdf') {
                    alert('Please upload a PDF file only.');
                    return;
                }
                
                selectedFile = file;
                
                // Show file analysis
                fileAnalysis.style.display = 'block';
                
                // Update file info
                updateFileInfo(file);
            }
            
            function updateFileInfo(file) {
                const fileSize = formatFileSize(file.size);
                const fileName = file.name.length > 20 ? file.name.substring(0, 20) + '...' : file.name;
                
                document.getElementById('pdfFileName').textContent = fileName;
                document.getElementById('pdfFileSize').textContent = fileSize;
                document.getElementById('pdfPages').textContent = '24 pages'; // Simulated
                document.getElementById('pdfSecurity').textContent = currentAction === 'lock' ? 'Not Protected' : 'Password Protected';
            }
            
            function updatePasswordStrength(input) {
                const password = input.value;
                let strength = 0;
                let text = 'None';
                let color = '#EF4444';
                
                // Calculate strength
                if (password.length >= 8) strength += 25;
                if (password.length >= 12) strength += 25;
                if (/[A-Z]/.test(password)) strength += 25;
                if (/[0-9]/.test(password)) strength += 15;
                if (/[^A-Za-z0-9]/.test(password)) strength += 10;
                
                // Set text and color
                if (strength >= 80) {
                    text = 'Strong';
                    color = '#10B981';
                } else if (strength >= 60) {
                    text = 'Good';
                    color = '#F59E0B';
                } else if (strength >= 40) {
                    text = 'Fair';
                    color = '#F59E0B';
                } else if (strength > 0) {
                    text = 'Weak';
                    color = '#EF4444';
                }
                
                // Update display
                const strengthId = input.id === 'userPassword' ? 'userPasswordStrength' : 
                                 input.id === 'ownerPassword' ? 'ownerPasswordStrength' : null;
                const textId = input.id === 'userPassword' ? 'userPasswordText' : 
                              input.id === 'ownerPassword' ? 'ownerPasswordText' : null;
                
                if (strengthId && textId) {
                    document.getElementById(strengthId).style.width = strength + '%';
                    document.getElementById(strengthId).style.background = color;
                    document.getElementById(textId).textContent = `Strength: ${text}`;
                    document.getElementById(textId).style.color = color;
                }
            }
            
            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            
            async function simulatePDFProcessing() {
                const progressFill = document.getElementById('progressFill');
                const processingText = document.getElementById('processingText');
                const modalProcessingText = document.getElementById('modalProcessingText');
                
                const lockSteps = [
                    "Analyzing PDF structure...",
                    "Applying AES-256 encryption...",
                    "Setting password protection...",
                    "Configuring permissions...",
                    "Finalizing secure PDF...",
                    "Verifying encryption..."
                ];
                
                const unlockSteps = [
                    "Analyzing PDF security...",
                    "Validating password...",
                    "Removing restrictions...",
                    "Decrypting content...",
                    "Rebuilding PDF structure...",
                    "Verifying integrity..."
                ];
                
                const steps = currentAction === 'lock' ? lockSteps : unlockSteps;
                
                // Show modal
                document.getElementById('processingModal').style.display = 'flex';
                
                for (let i = 0; i < steps.length; i++) {
                    const progress = ((i + 1) / steps.length) * 100;
                    
                    // Update progress
                    if (progressFill) progressFill.style.width = `${progress}%`;
                    
                    // Update text
                    if (processingText) processingText.textContent = steps[i];
                    if (modalProcessingText) modalProcessingText.textContent = steps[i];
                    
                    // Wait
                    await new Promise(resolve => setTimeout(resolve, 1000));
                }
                
                // Hide modal and show results
                document.getElementById('processingModal').style.display = 'none';
                processingSection.style.display = 'none';
                resultsSection.style.display = 'block';
                downloadBtn.style.display = 'inline-block';
                
                // Update results
                document.getElementById('securityLevel').textContent = 'AES-256';
                document.getElementById('fileStatus').textContent = currentAction === 'lock' ? 'Protected' : 'Unlocked';
                document.getElementById('fileStatus').style.color = currentAction === 'lock' ? '#10B981' : '#3B82F6';
                document.getElementById('processingTime').textContent = `${steps.length}.0s`;
                document.getElementById('verificationStatus').textContent = 'Successful';
                
                // Show success message
                showSuccessMessage(currentAction === 'lock' ? 'PDF successfully locked!' : 'PDF successfully unlocked!');
            }
            
            function handleDownload() {
                // Create download
                const blob = new Blob(['Secure PDF content'], { type: 'application/pdf' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = currentAction === 'lock' ? 'secured_document.pdf' : 'unlocked_document.pdf';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                showSuccessMessage('PDF downloaded successfully!');
            }
            
            function showSuccessMessage(text = 'Operation completed successfully!') {
                const message = document.createElement('div');
                message.className = 'success-message';
                message.innerHTML = `
                    <i class="fas fa-check-circle"></i>
                    <span>${text}</span>
                `;
                message.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #10B981;
                    color: white;
                    padding: 15px 20px;
                    border-radius: 8px;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    z-index: 3000;
                    animation: fadeInUp 0.3s ease;
                `;
                
                document.body.appendChild(message);
                
                setTimeout(() => {
                    message.style.animation = 'fadeOut 0.3s ease';
                    setTimeout(() => document.body.removeChild(message), 300);
                }, 3000);
            }
            
            // Add global styles
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeOut {
                    from { opacity: 1; transform: translateY(0); }
                    to { opacity: 0; transform: translateY(-20px); }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>
